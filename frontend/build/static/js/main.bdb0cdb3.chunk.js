(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var l=s(1),r=s.n(l),c=s(4),a=s.n(c),n=(s(13),s(0));var o=()=>{const[e,t]=Object(l.useState)("Avatar"),[s,r]=Object(l.useState)(1),[c,a]=Object(l.useState)(5),[o,d]=Object(l.useState)(!1),[i,b]=Object(l.useState)(""),[x,m]=Object(l.useState)([]);return Object(n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 flex flex-col items-center justify-between",children:[Object(n.jsxs)("header",{className:"w-full bg-white shadow-md py-6 px-4 flex flex-col items-center mb-8",children:[Object(n.jsxs)("div",{className:"flex items-center gap-3",children:[Object(n.jsx)("span",{className:"text-4xl",children:"\ud83c\udfac"}),Object(n.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 tracking-tight",children:"MovieMate Recommender"})]}),Object(n.jsx)("p",{className:"text-gray-500 mt-2 text-center max-w-xl",children:"Get personalized movie recommendations instantly with our smart hybrid engine. Enter your favorite movie and get suggestions tailored just for you!"})]}),Object(n.jsxs)("main",{className:"w-full flex-1 flex flex-col items-center px-2",children:[Object(n.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0),b(""),m([]);try{const t=await fetch("/api/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s,movie_title:e,top_n:c})});if(!t.ok)throw new Error("Failed to fetch recommendations");const l=await t.json();m(l.recommendations||[])}catch(l){l instanceof Error?b(l.message||"Unknown error"):b("Unknown error")}finally{d(!1)}},className:"bg-white shadow-lg rounded-xl p-8 w-full max-w-xl flex flex-col gap-6 mb-8",children:[Object(n.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(n.jsx)("label",{className:"text-gray-700 font-semibold",children:"Movie Title"}),Object(n.jsx)("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-lg",value:e,onChange:e=>t(e.target.value),placeholder:"e.g. Avatar",required:!0})]}),Object(n.jsxs)("div",{className:"flex gap-4 flex-col md:flex-row",children:[Object(n.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[Object(n.jsx)("label",{className:"text-gray-700 font-semibold",children:"User ID"}),Object(n.jsx)("input",{type:"number",min:1,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-lg",value:s,onChange:e=>r(Number(e.target.value)),required:!0})]}),Object(n.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[Object(n.jsx)("label",{className:"text-gray-700 font-semibold",children:"# of Recommendations"}),Object(n.jsx)("input",{type:"number",min:1,max:20,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-lg",value:c,onChange:e=>a(Number(e.target.value)),required:!0})]})]}),Object(n.jsx)("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow transition disabled:opacity-60 text-lg",disabled:o,children:o?Object(n.jsxs)("span",{className:"flex items-center gap-2",children:[Object(n.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Loading..."]}):"Get Recommendations"}),i&&Object(n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-lg font-medium text-center",children:i})]}),x.length>0&&Object(n.jsxs)("section",{className:"w-full max-w-3xl bg-white rounded-xl shadow-lg p-6 mb-8",children:[Object(n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[Object(n.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Top ",c," Recommendations for ",Object(n.jsxs)("span",{className:"text-blue-700",children:["'",e,"'"]})]}),Object(n.jsx)("button",{onClick:()=>{const t=[["Title","Genres","Year","Match %","Why Recommended"],...x.map(e=>[e.title,e.genres,e.year,e.match_percentage,e.why_recommended])].map(e=>e.join(",")).join("\n"),s=new Blob([t],{type:"text/csv"}),l=URL.createObjectURL(s),r=document.createElement("a");r.href=l,r.download="".concat(e,"_recommendations.csv"),r.click(),URL.revokeObjectURL(l)},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow font-semibold",children:"Download CSV"})]}),Object(n.jsx)("div",{className:"overflow-x-auto rounded-lg",children:Object(n.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"bg-blue-50",children:[Object(n.jsx)("th",{className:"py-3 px-4 border-b text-left font-semibold",children:"Title"}),Object(n.jsx)("th",{className:"py-3 px-4 border-b text-left font-semibold",children:"Genres"}),Object(n.jsx)("th",{className:"py-3 px-4 border-b text-left font-semibold",children:"Year"}),Object(n.jsx)("th",{className:"py-3 px-4 border-b text-left font-semibold",children:"Match %"}),Object(n.jsx)("th",{className:"py-3 px-4 border-b text-left font-semibold",children:"Why Recommended"})]})}),Object(n.jsx)("tbody",{children:x.map((e,t)=>Object(n.jsxs)("tr",{className:t%2===0?"bg-gray-50 hover:bg-blue-50":"bg-white hover:bg-blue-50",children:[Object(n.jsx)("td",{className:"py-2 px-4 border-b font-semibold text-gray-900",children:e.title}),Object(n.jsx)("td",{className:"py-2 px-4 border-b text-gray-700",children:e.genres}),Object(n.jsx)("td",{className:"py-2 px-4 border-b text-gray-700",children:e.year}),Object(n.jsxs)("td",{className:"py-2 px-4 border-b text-blue-700 font-bold",children:[e.match_percentage,"%"]}),Object(n.jsx)("td",{className:"py-2 px-4 border-b text-gray-700",children:e.why_recommended})]},t))})]})})]})]}),Object(n.jsxs)("footer",{className:"w-full bg-white py-4 text-center text-gray-400 text-sm border-t mt-8",children:["\xa9 ",(new Date).getFullYear()," MovieMate \u2014 Smart Movie Recommendations"]})]})};a.a.createRoot(document.getElementById("root")).render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o,{})}))}},[[15,1,2]]]);
//# sourceMappingURL=main.bdb0cdb3.chunk.js.map